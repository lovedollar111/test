package cn.dogplanet.ui.shop.adapter;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import cn.dogplanet.GlobalContext;import cn.dogplanet.R;import cn.dogplanet.constant.WConstant;import cn.dogplanet.entity.ShopBuyDetail;import cn.dogplanet.net.volley.toolbox.NetworkImageView;/** * 产品购买列表 * editor:ztr * package_name:cn.dogplanet.ui.shop.adapter * file_name:ShopBuyAdapter.java * date:2016-12-6 */public class ShopBuyAdapter extends BaseAdapter {	private Context context;	private List<ShopBuyDetail> buyDetails;	public ShopBuyAdapter(Context context) {		super();		this.context = context;		buyDetails = new ArrayList<>();	}	@Override	public int getCount() {		// TODO Auto-generated method stub		return buyDetails.size();	}	@Override	public Object getItem(int position) {		// TODO Auto-generated method stub		return buyDetails.get(position);	}	@Override	public long getItemId(int position) {		// TODO Auto-generated method stub		return position;	}	public void addAll(List<ShopBuyDetail> details) {		buyDetails.addAll(details);		notifyDataSetChanged();	}	public void add(ShopBuyDetail buyDetail) {		buyDetails.add(buyDetail);		notifyDataSetChanged();	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		// TODO Auto-generated method stub		ShopBuyDetail shopBuyDetail = buyDetails.get(position);		ViewHolder holder;		if (convertView == null) {			convertView = LayoutInflater.from(context).inflate(					R.layout.shop_buy_detail_adapter, parent, false);			holder = new ViewHolder();			holder.img = convertView					.findViewById(R.id.ad_img);			holder.child_name = convertView					.findViewById(R.id.ad_child_name);			holder.main_name = convertView					.findViewById(R.id.ad_main_name);			holder.price = convertView.findViewById(R.id.ad_price);			holder.time = convertView.findViewById(R.id.ad_time);			convertView.setTag(holder);		} else {			holder = (ViewHolder) convertView.getTag();		}		holder.img.setErrorImageResId(WConstant.IMG_ERROR_RES_CARD_ID);		holder.img.setImageUrl(shopBuyDetail.getImgUrl(), GlobalContext				.getInstance().getImageLoader());		holder.time.setText(shopBuyDetail.getTime());//		holder.child_name.setText(shopBuyDetail.getChild_name() + "   服务人数"//				+ shopBuyDetail.getNum() + "人");		holder.child_name.setText(String.format("服务人数%s人", shopBuyDetail.getNum()));		int price=Integer.parseInt(shopBuyDetail.getNum())*Integer.parseInt(shopBuyDetail.getPrice());		holder.price.setText(String.format("%d元", price));		holder.main_name.setText(shopBuyDetail.getMain_name());		return convertView;	}	class ViewHolder {		NetworkImageView img;		TextView main_name, child_name, price, time;	}}